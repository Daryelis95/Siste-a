{"version":3,"sources":["lib/popeye.min.js"],"names":["a","b","c","apply","arguments","module","provider","defaults","containerTemplate","containerTemplateUrl","bodyClass","containerClass","modalClass","locals","resolve","scope","controller","keyboard","click","$get","d","e","f","g","h","i","j","k","l","m","n","o","on","which","options","close","reason","handleError","open","template","templateUrl","Error","extend","copy","resolvedDeferred","defer","resolved","promise","openedDeferred","opened","closedDeferred","closed","prototype","resolving","when","then","modal","forEach","isString","get","invoke","all","$new","$close","$scope","opening","data","cache","reject","element","addClass","querySelector","append","target","currentTarget","container","find","lastChild","enter","closing","leave","$destroy","removeClass","openModal","closeCurrentModal","isModalOpen","window","angular","require","exports","call"],"mappings":"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","file":"popeye.min.js","sourcesContent":["/**\r\n* angular-popeye\r\n* A simple modal library for AngularJS applications\r\n\r\n* @author Pathgather <tech@pathgather.com>\r\n* @copyright Pathgather 2015\r\n* @license MIT\r\n* @link https://github.com/Pathgather/popeye\r\n* @version 1.0.5\r\n*/\r\n\r\n(function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}};if(b=function(a){\"use strict\";var b;return b=a.module(\"pathgather.popeye\",[]),b.provider(\"Popeye\",function(){var b;return b={defaults:{containerTemplate:'<div class=\"popeye-modal-container\">\\n  <div class=\"popeye-modal\">\\n    <a class=\"popeye-close-modal\" href ng-click=\"$close()\"></a>\\n  </div>\\n</div>',containerTemplateUrl:null,bodyClass:\"popeye-modal-open\",containerClass:null,modalClass:null,locals:null,resolve:null,scope:null,controller:null,keyboard:!0,click:!0},$get:[\"$q\",\"$animate\",\"$rootScope\",\"$document\",\"$http\",\"$templateCache\",\"$compile\",\"$controller\",\"$injector\",function(d,e,f,g,h,i,j,k,l){var m,n,o;return n=null,o=null,g.on(\"keydown\",function(a){return 27===a.which&&null!=n&&n.options.keyboard?n.close({reason:\"keyboard\"}):void 0}),m=function(){function m(e){if(null==e&&(e={}),this.handleError=c(this.handleError,this),this.close=c(this.close,this),this.open=c(this.open,this),this.resolve=c(this.resolve,this),null==e.template&&null==e.templateUrl)throw new Error(\"template or templateUrl must be provided\");this.options=a.extend(a.copy(b.defaults),e),this.resolvedDeferred=d.defer(),this.resolved=this.resolvedDeferred.promise,this.openedDeferred=d.defer(),this.opened=this.openedDeferred.promise,this.closedDeferred=d.defer(),this.closed=this.closedDeferred.promise}return m.prototype.resolve=function(){return this.resolving?this.resolved:(this.resolving=!0,d.when({}).then(function(b){return function(){var c,e;return c=a.extend({modal:b},b.options.locals),e=a.extend({},b.options.resolve),a.forEach(e,function(b,d){return c[d]=a.isString(b)?l.get(b):l.invoke(b,null,c)}),d.all(c)}}(this)).then(function(b){return function(c){return b.scope=null!=b.options.scope?b.options.scope:f.$new(),b.scope.$close=function(){return b.close.apply(b,arguments)},b.options.controller&&(b.controller=k(b.options.controller,a.extend({$scope:b.scope},c))),b.resolvedDeferred.resolve(b)}}(this),function(a){return function(b){return a.handleError(b)}}(this)),this.resolved)},m.prototype.open=function(){var b;return this.opening?this.opened:(this.opening=!0,b=null!=o?o=o.then(function(a){return function(b){return b.close().then(function(){return a})}}(this)):null!=n?o=n.close().then(function(a){return function(){return a}}(this)):(o=this.opened,d.when()),b.then(function(b){return function(){return b.resolve().then(function(){var c;if(null==b.scope)throw new Error(\"@scope is undefined\");return c=null!=b.options.containerTemplate?d.when({data:b.options.containerTemplate}):null!=b.options.containerTemplateUrl?h.get(b.options.containerTemplateUrl,{cache:i}):d.reject(\"Missing containerTemplate or containerTemplateUrl\"),c.then(function(c){var f,k;return f=a.element(c.data),b.options.containerClass&&f.addClass(b.options.containerClass),k=null!=b.options.template?d.when({data:b.options.template}):null!=b.options.templateUrl?h.get(b.options.templateUrl,{cache:i}):d.reject(\"Missing containerTemplate or containerTemplateUrl\"),k.then(function(c){var d,h;return a.element(f[0].querySelector(\".popeye-modal\")).append(c.data),b.options.click&&f.on(\"click\",function(a){return a.target===a.currentTarget?b.close():void 0}),b.container=j(f)(b.scope),b.element=a.element(b.container[0].querySelector(\".popeye-modal\")),b.options.modalClass&&b.element.addClass(b.options.modalClass),d=g.find(\"body\"),d[0].lastChild&&(h=a.element(d[0].lastChild)),b.options.bodyClass&&d.addClass(b.options.bodyClass),e.enter(b.container,d,h).then(function(){return n=b,b.openedDeferred.resolve(b)})})})})}}(this))[\"catch\"](function(a){return function(b){return a.handleError(b)}}(this))[\"finally\"](function(){return o=null}),this.opened)},m.prototype.close=function(a){return this.closing?this.closed:(this.closing=!0,this.opened.then(function(b){return function(){if(null==b.container)throw new Error(\"@container is undefined\");return e.leave(b.container).then(function(){return n=null,b.options.scope||b.scope.$destroy(),g.find(\"body\").removeClass(b.options.bodyClass),b.closedDeferred.resolve(a)},function(a){return b.handleError(a)})}}(this)),this.closed)},m.prototype.handleError=function(a){return this.resolvedDeferred.reject(a),this.openedDeferred.reject(a),this.closedDeferred.reject(a)},m}(),{openModal:function(a){var b;return null==a&&(a={}),b=new m(a),b.open(),b},closeCurrentModal:function(a){return null!=n&&n.close(a),n},isModalOpen:function(){return!!n}}}]}})},null!=(\"undefined\"!=typeof window&&null!==window?window.angular:void 0))b(window.angular);else{if(\"function\"!=typeof require)throw new Error(\"Could not find angular on window nor via require()\");a=require(\"angular\"),b(a)}\"undefined\"!=typeof module&&null!==module&&(module.exports=\"pathgather.popeye\")}).call(this);"]}