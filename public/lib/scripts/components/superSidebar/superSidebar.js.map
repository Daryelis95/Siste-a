{"version":3,"sources":["components/superSidebar/superSidebar.js"],"names":["angular","module","component","templateUrl","controller","superSidebarCtrl","$scope","$element","$timeout","superSidebarService","superUtilService","layoutSizes","$ctrl","jqWindow","$","window","menuItems","$onInit","getMenuItems","defaultSidebarState","stateRef","hoverItem","$event","showHoverElem","hoverElemHeight","currentTarget","clientHeight","menuTopValue","hoverElemTop","getBoundingClientRect","top","$on","canSidebarBeHidden","setMenuCollapsed","menuHeight","childNodes","on","_onWindowClick","_onWindowResize","$onDestroy","off","$evt","isDescendant","target","originalEvent","$sidebarEventProcessed","isMenuCollapsed","newMenuCollapsed","shouldMenuBeCollapsed","newMenuHeight","_calculateMenuHeight","$apply"],"mappings":";;AAAEA,QAAQC,MAAR,CAAe,cAAf,EAA+B,EAA/B,EACCC,SADD,CACW,cADX,EAC2B;AACzBC,eAAa,wDADY;AAEzBC,cAAYC;AAFa,CAD3B;;AAMA;AACA,SAASA,gBAAT,CAA0BC,MAA1B,EAAkCC,QAAlC,EAA4CC,QAA5C,EAAsDC,mBAAtD,EAA2EC,gBAA3E,EAA6FC,WAA7F,EAAyG;AACrG,MAAIC,QAAQ,IAAZ;AACA,MAAIC,WAAWC,EAAEC,MAAF,CAAf;AACAT,SAAOU,SAAP,GAAmB,EAAnB;AACAJ,QAAMH,mBAAN,GAA4BA,mBAA5B;AACA,OAAKQ,OAAL,GAAe,YAAU,CACxB,CADD;AAEAX,SAAOU,SAAP,GAAmBP,oBAAoBS,YAApB,EAAnB;;AAEAZ,SAAOa,mBAAP,GAA6Bb,OAAOU,SAAP,CAAiB,CAAjB,EAAoBI,QAAjD;;AAEAd,SAAOe,SAAP,GAAmB,UAAUC,MAAV,EAAkB;AACnChB,WAAOiB,aAAP,GAAuB,IAAvB;AACAjB,WAAOkB,eAAP,GAA0BF,OAAOG,aAAP,CAAqBC,YAA/C;AACA,QAAIC,eAAe,EAAnB;AACArB,WAAOsB,YAAP,GAAsBN,OAAOG,aAAP,CAAqBI,qBAArB,GAA6CC,GAA7C,GAAmDH,YAAzE;AACD,GALD;;AAOArB,SAAOyB,GAAP,CAAW,qBAAX,EAAkC,YAAY;AAC5C,QAAItB,oBAAoBuB,kBAApB,EAAJ,EAA8C;AAC5CvB,0BAAoBwB,gBAApB,CAAqC,IAArC;AACD;AACF,GAJD;;AAMA3B,SAAO4B,UAAP,GAAoB3B,SAAS,CAAT,EAAY4B,UAAZ,CAAuB,CAAvB,EAA0BT,YAA1B,GAAyC,EAA7D;AACAb,WAASuB,EAAT,CAAY,OAAZ,EAAqBC,cAArB;AACAxB,WAASuB,EAAT,CAAY,QAAZ,EAAsBE,eAAtB;AACA,OAAKC,UAAL,GAAkB,YAAW;AAC3B1B,aAAS2B,GAAT,CAAa,OAAb,EAAsBH,cAAtB;AACAxB,aAAS2B,GAAT,CAAa,QAAb,EAAuBF,eAAvB;AACD,GAHD;;AAMA,WAASD,cAAT,CAAwBI,IAAxB,EAA8B;AAC5B,QAAI,CAAC/B,iBAAiBgC,YAAjB,CAA8BnC,SAAS,CAAT,CAA9B,EAA2CkC,KAAKE,MAAhD,CAAD,IACA,CAACF,KAAKG,aAAL,CAAmBC,sBADpB,IAEA,CAACpC,oBAAoBqC,eAApB,EAFD,IAGArC,oBAAoBuB,kBAApB,EAHJ,EAG8C;AAC5CS,WAAKG,aAAL,CAAmBC,sBAAnB,GAA4C,IAA5C;AACArC,eAAS,YAAY;AACnBC,4BAAoBwB,gBAApB,CAAqC,IAArC;AACD,OAFD,EAEG,EAFH;AAGD;AACF;;AAED;AACA,WAASK,eAAT,GAA2B;AACzB,QAAIS,mBAAmBtC,oBAAoBuC,qBAApB,EAAvB;AACA,QAAIC,gBAAgBC,sBAApB;AACA,QAAIH,oBAAoBtC,oBAAoBqC,eAApB,EAApB,IAA6DxC,OAAO4B,UAAP,IAAqBe,aAAtF,EAAqG;AACnG3C,aAAO6C,MAAP,CAAc,YAAY;AACxB7C,eAAO4B,UAAP,GAAoBe,aAApB;AACAxC,4BAAoBwB,gBAApB,CAAqCc,gBAArC;AACD,OAHD;AAID;AACF;;AAED,WAASG,oBAAT,GAAgC;AAC9B,WAAO3C,SAAS,CAAT,EAAY4B,UAAZ,CAAuB,CAAvB,EAA0BT,YAA1B,GAAyC,EAAhD;AACD;AACJ","file":"superSidebar.js","sourcesContent":["  angular.module(\"superSidebar\", [])\r\n  .component(\"superSidebar\", {\r\n    templateUrl: \"/lib/scripts/components/superSidebar/superSidebar.html\",\r\n    controller: superSidebarCtrl\r\n  });\r\n\r\n  /** @ngInject */\r\n  function superSidebarCtrl($scope, $element, $timeout, superSidebarService, superUtilService, layoutSizes){\r\n      let $ctrl = this;\r\n      var jqWindow = $(window);\r\n      $scope.menuItems = [];\r\n      $ctrl.superSidebarService = superSidebarService;\r\n      this.$onInit = function(){\r\n      }\r\n      $scope.menuItems = superSidebarService.getMenuItems();\r\n      \r\n      $scope.defaultSidebarState = $scope.menuItems[0].stateRef;\r\n\r\n      $scope.hoverItem = function ($event) {\r\n        $scope.showHoverElem = true;\r\n        $scope.hoverElemHeight =  $event.currentTarget.clientHeight;\r\n        var menuTopValue = 66;\r\n        $scope.hoverElemTop = $event.currentTarget.getBoundingClientRect().top - menuTopValue;\r\n      };\r\n\r\n      $scope.$on('$stateChangeSuccess', function () {\r\n        if (superSidebarService.canSidebarBeHidden()) {\r\n          superSidebarService.setMenuCollapsed(true);\r\n        }\r\n      });\r\n\r\n      $scope.menuHeight = $element[0].childNodes[0].clientHeight - 84;\r\n      jqWindow.on('click', _onWindowClick);\r\n      jqWindow.on('resize', _onWindowResize);\r\n      this.$onDestroy = function() {\r\n        jqWindow.off('click', _onWindowClick);\r\n        jqWindow.off('resize', _onWindowResize);\r\n      };\r\n\r\n     \r\n      function _onWindowClick($evt) {\r\n        if (!superUtilService.isDescendant($element[0], $evt.target) &&\r\n            !$evt.originalEvent.$sidebarEventProcessed &&\r\n            !superSidebarService.isMenuCollapsed() &&\r\n            superSidebarService.canSidebarBeHidden()) {\r\n          $evt.originalEvent.$sidebarEventProcessed = true;\r\n          $timeout(function () {\r\n            superSidebarService.setMenuCollapsed(true);\r\n          }, 10);\r\n        }\r\n      }\r\n\r\n      // watch window resize to change menu collapsed state if needed\r\n      function _onWindowResize() {\r\n        var newMenuCollapsed = superSidebarService.shouldMenuBeCollapsed();\r\n        var newMenuHeight = _calculateMenuHeight();\r\n        if (newMenuCollapsed != superSidebarService.isMenuCollapsed() || $scope.menuHeight != newMenuHeight) {\r\n          $scope.$apply(function () {\r\n            $scope.menuHeight = newMenuHeight;\r\n            superSidebarService.setMenuCollapsed(newMenuCollapsed)\r\n          });\r\n        }\r\n      }\r\n\r\n      function _calculateMenuHeight() {\r\n        return $element[0].childNodes[0].clientHeight - 84;\r\n      }\r\n  }"]}