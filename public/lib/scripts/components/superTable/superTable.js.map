{"version":3,"sources":["components/superTable/superTable.js"],"names":["angular","module","component","templateUrl","controller","SuperTableCtrl","bindings","header","data","options","filter","input","start","slice","$scope","$ctrl","$onInit","currentPage","pageSize","limit","pages","filtered","configPages","length","ini","fin","Math","ceil","i","push","no","filterBy","field","setPage","index"],"mappings":";;AAAAA,QAAQC,MAAR,CAAe,YAAf,EAA6B,EAA7B,EACGC,SADH,CACa,YADb,EAC2B;AACvBC,eAAa,oDADU;AAEvBC,cAAYC,cAFW;AAGvBC,YAAU;AACRC,YAAQ,GADA;AAERC,UAAM,GAFE;AAGRC,aAAS;AAHD;AAHa,CAD3B,EAUCC,MAVD,CAUQ,eAVR,EAUyB,YAAW;AAClC,SAAO,UAASC,KAAT,EAAgBC,KAAhB,EAAuB;AAC5BA,YAAQ,CAACA,KAAT;AACA,WAAOD,MAAME,KAAN,CAAYD,KAAZ,CAAP;AACD,GAHD;AAGE,CAdJ;AAeE;AACA,SAASP,cAAT,CAAwBS,MAAxB,EAA+B;AAC3B,MAAIC,QAAQ,IAAZ;AACA,OAAKC,OAAL,GAAe,YAAU;AACvBF,WAAOG,WAAP,GAAqB,CAArB;AACAH,WAAOI,QAAP,GAAkBH,MAAMN,OAAN,CAAcU,KAAhC;AACAL,WAAOM,KAAP,GAAe,EAAf;AACAN,WAAOO,QAAP,GAAkB,EAAlB;AACAC;AACA,aAASA,WAAT,GAAuB;AACrBR,aAAOM,KAAP,CAAaG,MAAb,GAAsB,CAAtB;AACA,UAAIC,MAAMV,OAAOG,WAAP,GAAqB,CAA/B;AACA,UAAIQ,MAAMX,OAAOG,WAAP,GAAqB,CAA/B;AACA,UAAIO,MAAM,CAAV,EAAa;AACXA,cAAM,CAAN;AACA,YAAIE,KAAKC,IAAL,CAAUZ,MAAMP,IAAN,CAAWe,MAAX,GAAoBT,OAAOI,QAArC,IAAiD,EAArD,EACEO,MAAM,EAAN,CADF,KAGEA,MAAMC,KAAKC,IAAL,CAAUZ,MAAMP,IAAN,CAAWe,MAAX,GAAoBT,OAAOI,QAArC,CAAN;AACH,OAND,MAMO;AACL,YAAIM,OAAOE,KAAKC,IAAL,CAAUZ,MAAMP,IAAN,CAAWe,MAAX,GAAoBT,OAAOI,QAArC,IAAiD,EAA5D,EAAgE;AAC9DM,gBAAME,KAAKC,IAAL,CAAUZ,MAAMP,IAAN,CAAWe,MAAX,GAAoBT,OAAOI,QAArC,IAAiD,EAAvD;AACAO,gBAAMC,KAAKC,IAAL,CAAUZ,MAAMP,IAAN,CAAWe,MAAX,GAAoBT,OAAOI,QAArC,CAAN;AACD;AACF;AACD,UAAIM,MAAM,CAAV,EAAaA,MAAM,CAAN;AACb,WAAK,IAAII,IAAIJ,GAAb,EAAkBI,KAAKH,GAAvB,EAA4BG,GAA5B,EAAiC;AAC/Bd,eAAOM,KAAP,CAAaS,IAAb,CAAkB;AAChBC,cAAIF;AADY,SAAlB;AAGD;;AAED,UAAId,OAAOG,WAAP,IAAsBH,OAAOM,KAAP,CAAaG,MAAvC,EACET,OAAOG,WAAP,GAAqBH,OAAOM,KAAP,CAAaG,MAAb,GAAsB,CAA3C;AACH;;AAEDT,WAAOiB,QAAP,GAAkB,UAASC,KAAT,EAAgB,CACjC,CADD;;AAGAlB,WAAOmB,OAAP,GAAiB,UAASC,KAAT,EAAgB;AAC/BpB,aAAOG,WAAP,GAAqBiB,QAAQ,CAA7B;AACD,KAFD;AAGD,GAvCD;AAwCH","file":"superTable.js","sourcesContent":["angular.module(\"superTable\", [])\r\n  .component(\"superTable\", {\r\n    templateUrl: \"/lib/scripts/components/superTable/superTable.html\",\r\n    controller: SuperTableCtrl,\r\n    bindings: {\r\n      header: '<',\r\n      data: '<',\r\n      options: '<'\r\n    },\r\n  })\r\n.filter('startFromGrid', function() {\r\n  return function(input, start) {\r\n    start = +start;\r\n    return input.slice(start);\r\n  }});\r\n  /** @ngInject */\r\n  function SuperTableCtrl($scope){\r\n      let $ctrl = this;\r\n      this.$onInit = function(){\r\n        $scope.currentPage = 0;\r\n        $scope.pageSize = $ctrl.options.limit;\r\n        $scope.pages = [];\r\n        $scope.filtered = {};\r\n        configPages();\r\n        function configPages() {\r\n          $scope.pages.length = 0;\r\n          var ini = $scope.currentPage - 4;\r\n          var fin = $scope.currentPage + 5;\r\n          if (ini < 1) {\r\n            ini = 1;\r\n            if (Math.ceil($ctrl.data.length / $scope.pageSize) > 10)\r\n              fin = 10;\r\n            else\r\n              fin = Math.ceil($ctrl.data.length / $scope.pageSize);\r\n          } else {\r\n            if (ini >= Math.ceil($ctrl.data.length / $scope.pageSize) - 10) {\r\n              ini = Math.ceil($ctrl.data.length / $scope.pageSize) - 10;\r\n              fin = Math.ceil($ctrl.data.length / $scope.pageSize);\r\n            }\r\n          }\r\n          if (ini < 1) ini = 1;\r\n          for (var i = ini; i <= fin; i++) {\r\n            $scope.pages.push({\r\n              no: i\r\n            });\r\n          }\r\n  \r\n          if ($scope.currentPage >= $scope.pages.length)\r\n            $scope.currentPage = $scope.pages.length - 1;\r\n        }\r\n \r\n        $scope.filterBy = function(field) {\r\n        }\r\n  \r\n        $scope.setPage = function(index) {\r\n          $scope.currentPage = index - 1;\r\n        };\r\n      };\r\n  }"]}