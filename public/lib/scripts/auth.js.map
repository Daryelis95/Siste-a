{"version":3,"sources":["auth.js"],"names":["angular","module","controller","AuthCtrl","$scope","$http","AuthService","$window","alert","show","message","login","user","post","then","response","res","data","error","setToken","api_token","location","href","catch","err","console","log"],"mappings":";;AAAA;;;AAGA,CAAC,YAAY;AACT;;AAEAA,YAAQC,MAAR,CAAe,MAAf,EAAsB,CAAC,aAAD,CAAtB,EACKC,UADL,CACgB,UADhB,EAC4BC,QAD5B;;AAGA;AACA,aAASA,QAAT,CAAkBC,MAAlB,EAA0BC,KAA1B,EAAiCC,WAAjC,EAA8CC,OAA9C,EAAuD;AACnDH,eAAOI,KAAP,GAAe,EAACC,MAAM,KAAP,EAAcC,SAAS,EAAvB,EAAf;AACAN,eAAOO,KAAP,GAAe,UAASC,IAAT,EAAc;AACzBP,kBAAMQ,IAAN,CAAW,YAAX,EAAyBD,IAAzB,EACCE,IADD,CACM,UAASC,QAAT,EAAkB;AACpBX,uBAAOI,KAAP,CAAaC,IAAb,GAAoB,KAApB;AACA,oBAAIO,MAAMD,SAASE,IAAnB;AACA,oBAAG,CAACD,IAAIE,KAAR,EAAc;AACV,wBAAIN,OAAOI,IAAIC,IAAf;AACAX,gCAAYa,QAAZ,CAAqBP,KAAKQ,SAA1B;AACAb,4BAAQc,QAAR,CAAiBC,IAAjB,GAAuB,YAAvB;AACH,iBAJD,MAIK;AACDlB,2BAAOI,KAAP,CAAaC,IAAb,GAAoB,IAApB;AACH;AACJ,aAXD,EAYCc,KAZD,CAYO,UAASC,GAAT,EAAa;AAChBC,wBAAQC,GAAR,CAAYF,GAAZ;AACH,aAdD;AAeH,SAhBD;AAiBH;AAEJ,CA5BD","file":"auth.js","sourcesContent":["/**\r\n * @author w.aular\r\n */\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('auth',['authService'])\r\n        .controller('AuthCtrl', AuthCtrl);\r\n\r\n    /** @ngInject */\r\n    function AuthCtrl($scope, $http, AuthService, $window) {\r\n        $scope.alert = {show: false, message: ''};\r\n        $scope.login = function(user){\r\n            $http.post('/api/login', user)\r\n            .then(function(response){\r\n                $scope.alert.show = false;\r\n                var res = response.data;\r\n                if(!res.error){\r\n                    var user = res.data;\r\n                    AuthService.setToken(user.api_token);\r\n                    $window.location.href= '/dashboard';\r\n                }else{\r\n                    $scope.alert.show = true;\r\n                }\r\n            })\r\n            .catch(function(err){\r\n                console.log(err);\r\n            });\r\n        }\r\n    }\r\n\r\n})();"]}